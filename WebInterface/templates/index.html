{% extends 'base.html' %}
{% block head %}
<style>
  #loading-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
  }

  #loading-spinner {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 1000;
  }

  .spinner {
    border: 4px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top: 4px solid #3498db;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }

    100% {
      transform: rotate(360deg);
    }
  }
</style>
{% block title %}Home{% endblock %}
{% endblock %}

{% block content %}
<div class="w3-row-padding w3-light-grey w3-padding-64 w3-container">
  <div class="w3-content">
    <div class="w3-third w3-center">
      <i class="fa fa-video-camera w3-padding-64 w3-text-red"></i>
    </div>

    <div class="w3-twothird">
      <h1>Summarize Video</h1>
      <h5 class="w3-padding-32">Please upload the video that you want to summarize:</h5>

      <form method="POST" enctype="multipart/form-data" action="upload_video">
        <div class="w3-container">
          <div class="w3-row">
            <div class="w3-col s12">
              <div class="w3-input w3-border w3-round-large">
                <input type="file" id="customFile" name="file" accept="video/*" required>
              </div>
            </div>
          </div>
          <button type="submit" class="w3-button w3-black w3-padding-large w3-large w3-margin-top"
            onclick="showLoading()">Upload</button>
          <div id="loading-overlay"></div>
          <div id="loading-spinner">
            <div class="spinner"></div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- Second Grid -->
<div class="w3-row-padding w3-light-grey w3-padding-64 w3-container">
  <div class="w3-content">

    <div class="w3-twothird">
      <h1>Summarize Text</h1>

      <form method="POST" action="/upload_text">
        <div class="w3-container">
          <h5>Please upload the text that you want to summarize:</h5>
          <label for="text"></label>
          <textarea class="w3-input w3-border" id="text" name="text" rows="8" cols="50" required></textarea>
          <button type="submit" class="w3-button w3-black w3-padding-large w3-large w3-margin-top">Upload</button>
        </div>
      </form>
    </div>

    <div class="w3-third w3-center">
      <i class="fa fa-file-text w3-padding-64 w3-text-red w3-margin-right"></i>
    </div>
  </div>
</div>

<script>
  function showLoading() {
    // Display the loading spinner
    document.getElementById('loading-spinner').style.display = 'block';
    document.getElementById('loading-overlay').style.display = 'block';
  }
</script>


{% endblock %}